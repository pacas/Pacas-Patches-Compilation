<?xml version="1.0" encoding="utf-8" ?>
<Patch>

	<Operation Class="PatchOperationFindMod">
    <mods>
		<li>A RimWorld of Magic</li>
    </mods>
		<match Class="PatchOperationSequence">
		<operations>
			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[
				defName="TM_MaestersCloak" or
				defName="TM_MantleOfProtection" or
				defName="DemonLordCloak"
				]/statBases</xpath>
				<value>
					<Bulk>12</Bulk>
					<WornBulk>7</WornBulk>
				</value>
			</li>
            <li Class="XmlExtensions.ApplyPatch">
                <patchName>ApparelArmorValues</patchName>
                <arguments>
                    <li>TM_MantleOfProtection</li>
                    <li>1.7</li>
                    <li>3.4</li>
                    <li>6.1</li>
                </arguments>
            </li>
            <li Class="XmlExtensions.ApplyPatch">
                <patchName>ApparelArmorValues</patchName>
                <arguments>
                    <li>TM_MaestersCloak</li>
                    <li>1.4</li>
                    <li>1.7</li>
                    <li>4.6</li>
                </arguments>
            </li>
            <li Class="XmlExtensions.ApplyPatch">
                <patchName>ApparelArmorValues</patchName>
                <arguments>
                    <li>DemonLordCloak</li>
                    <li>1.8</li>
                    <li>2.2</li>
                    <li>5.1</li>
                </arguments>
            </li>
            
			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[
				defName="DarkRobe" or
				defName="TM_DiscipleRobe" or
				defName="ArchMageRobe"
				]/statBases</xpath>
				<value>
					<Bulk>9</Bulk>
					<WornBulk>3</WornBulk>
				</value>
			</li>
            <li Class="XmlExtensions.ApplyPatch">
                <patchName>ApparelArmorValues</patchName>
                <arguments>
                    <li>DarkRobe</li>
                    <li>2</li>
                    <li>0</li>
                    <li>0</li>
                </arguments>
            </li>
            <li Class="XmlExtensions.ApplyPatch">
                <patchName>ApparelArmorValues</patchName>
                <arguments>
                    <li>TM_DiscipleRobe</li>
                    <li>2</li>
                    <li>0</li>
                    <li>0</li>
                </arguments>
            </li>
            <li Class="XmlExtensions.ApplyPatch">
                <patchName>ApparelArmorValues</patchName>
                <arguments>
                    <li>ArchMageRobe</li>
                    <li>2</li>
                    <li>0</li>
                    <li>0</li>
                </arguments>
            </li>
			
			<!--TM_DreamcatcherBuckskin-->
            <li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="TM_DreamcatcherBuckskin"]/statBases</xpath>
				<value>
					<Bulk>20</Bulk>
					<WornBulk>5</WornBulk>
				</value>
			</li>
            <li Class="XmlExtensions.ApplyPatch">
                <patchName>ApparelArmorValues</patchName>
                <arguments>
                    <li>TM_DreamcatcherBuckskin</li>
                    <li>1.3</li>
                    <li>2.6</li>
                    <li>6.3</li>
                </arguments>
            </li>
			
			<!-- Hats -->
			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[
				defName="TM_WizardHat" or
				defName="TM_HoodOfProtection" or
				defName="TM_DiscipleHood" or
				defName="ArcaneHood"
				]/statBases</xpath>
				<value>
					<Bulk>3</Bulk>
					<WornBulk>0</WornBulk>
				</value>
			</li>
            <li Class="XmlExtensions.ApplyPatch">
                <patchName>ApparelArmorValues</patchName>
                <arguments>
                    <li>TM_WizardHat</li>
                    <li>1.3</li>
                    <li>0</li>
                    <li>0</li>
                </arguments>
            </li>
            <li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="TM_DreamcatcherCoronet"]/statBases</xpath>
				<value>
					<Bulk>5</Bulk>
					<WornBulk>2</WornBulk>
				</value>
			</li>
            <li Class="XmlExtensions.ApplyPatch">
                <patchName>ApparelArmorValues</patchName>
                <arguments>
                    <li>TM_DreamcatcherCoronet</li>
                    <li>1.9</li>
                    <li>0</li>
                    <li>0</li>
                </arguments>
            </li>
			<li Class="XmlExtensions.ApplyPatch">
                <patchName>ApparelArmorValues</patchName>
                <arguments>
                    <li>ArcaneHood</li>
                    <li>1.4</li>
                    <li>0</li>
                    <li>0</li>
                </arguments>
            </li>
			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[defName="HoodOfMadness"]/statBases</xpath>
				<value>
					<Bulk>5</Bulk>
					<WornBulk>1</WornBulk>
				</value>
			</li>
            <li Class="XmlExtensions.ApplyPatch">
                <patchName>ApparelArmorValues</patchName>
                <arguments>
                    <li>HoodOfMadness</li>
                    <li>1.6</li>
                    <li>0</li>
                    <li>0</li>
                </arguments>
            </li>
            <li Class="XmlExtensions.ApplyPatch">
                <patchName>ApparelArmorValues</patchName>
                <arguments>
                    <li>TM_HoodOfProtection</li>
                    <li>1.7</li>
                    <li>3.4</li>
                    <li>6.1</li>
                </arguments>
            </li>
            <li Class="XmlExtensions.ApplyPatch">
                <patchName>ApparelArmorValues</patchName>
                <arguments>
                    <li>TM_DiscipleHood</li>
                    <li>2</li>
                    <li>0</li>
                    <li>0</li>
                </arguments>
            </li>
            <li Class="XmlExtensions.ApplyPatch">
                <patchName>ApparelArmorValues</patchName>
                <arguments>
                    <li>TM_SagesMask</li>
                    <li>2</li>
                    <li>1</li>
                    <li>1</li>
                </arguments>
            </li>
			
			<!--Armors-->
            <!--TM_Necromancer_Body-->
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[defName="TM_Necromancer_Body"]/statBases/Mass</xpath>
				<value>
					<Bulk>15</Bulk>
					<WornBulk>4</WornBulk>
					<Mass>7.5</Mass>
				</value>
			</li>
            <li Class="XmlExtensions.ApplyPatch">
                <patchName>ApparelArmorValues</patchName>
                <arguments>
                    <li>TM_Necromancer_Body</li>
                    <li>4.7</li>
                    <li>13</li>
                    <li>20</li>
                </arguments>
            </li>

            <!--TM_Necromancer_Mask-->
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[defName="TM_Necromancer_Mask"]/statBases/Mass</xpath>
				<value>
					<Bulk>4</Bulk>
					<WornBulk>2</WornBulk>
					<Mass>2.5</Mass>
				</value>
			</li>
            <li Class="XmlExtensions.ApplyPatch">
                <patchName>ApparelArmorValues</patchName>
                <arguments>
                    <li>TM_Necromancer_Mask</li>
                    <li>4.7</li>
                    <li>6</li>
                    <li>11</li>
                </arguments>
            </li>

            <!--TM_Necromancer_Hood-->
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[defName="TM_Necromancer_Hood"]/statBases/Mass</xpath>
				<value>
					<Bulk>6</Bulk>
					<WornBulk>3</WornBulk>
					<Mass>3.5</Mass>
				</value>
			</li>
            <li Class="XmlExtensions.ApplyPatch">
                <patchName>ApparelArmorValues</patchName>
                <arguments>
                    <li>TM_Necromancer_Hood</li>
                    <li>4.7</li>
                    <li>8</li>
                    <li>15</li>
                </arguments>
            </li>

            <!--TM_DragonSlayer-->
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[defName="TM_DragonSlayer"]/statBases/Mass</xpath>
				<value>
					<Bulk>35</Bulk>
					<WornBulk>15</WornBulk>
					<Mass>20</Mass>
				</value>
			</li>
            <li Class="XmlExtensions.ApplyPatch">
                <patchName>ApparelArmorValues</patchName>
                <arguments>
                    <li>TM_DragonSlayer</li>
                    <li>4.5</li>
                    <li>28</li>
                    <li>45</li>
                </arguments>
            </li>

            <!--RoyalArmor-->
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[defName="RoyalArmor"]/statBases/Mass</xpath>
				<value>
					<Bulk>50</Bulk>
					<WornBulk>18</WornBulk>
					<Mass>15</Mass>
				</value>
			</li>
            <li Class="XmlExtensions.ApplyPatch">
                <patchName>ApparelArmorValues</patchName>
                <arguments>
                    <li>RoyalArmor</li>
                    <li>4.7</li>
                    <li>12</li>
                    <li>19</li>
                </arguments>
            </li>

            <!--AncientMail-->
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[defName="AncientMail"]/statBases/Mass</xpath>
				<value>
					<Bulk>38</Bulk>
					<WornBulk>7.5</WornBulk>
					<Mass>7.5</Mass>
				</value>
			</li>
            <li Class="XmlExtensions.ApplyPatch">
                <patchName>ApparelArmorValues</patchName>
                <arguments>
                    <li>AncientMail</li>
                    <li>4.2</li>
                    <li>11</li>
                    <li>16</li>
                </arguments>
            </li>

            <!--RoyalHelm-->
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[defName="RoyalHelm"]/statBases/Mass</xpath>
				<value>
					<Bulk>5</Bulk>
					<WornBulk>0.5</WornBulk>
					<Mass>3</Mass>
				</value>
			</li>
            <li Class="XmlExtensions.ApplyPatch">
                <patchName>ApparelArmorValues</patchName>
                <arguments>
                    <li>RoyalHelm</li>
                    <li>4.6</li>
                    <li>6</li>
                    <li>9</li>
                </arguments>
            </li>
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[defName="RoyalHelm"]/apparel/bodyPartGroups</xpath>
				<value>
					<bodyPartGroups>
						<li>UpperHead</li>
						<li>Eyes</li>
						<li>Teeth</li>
					</bodyPartGroups>
				</value>
			</li>

			<!--ParagonHelm-->
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[defName="ParagonHelm"]/statBases/Mass</xpath>
				<value>
					<Bulk>5</Bulk>
					<WornBulk>1</WornBulk>
					<Mass>4</Mass>
				</value>
			</li>
            <li Class="XmlExtensions.ApplyPatch">
                <patchName>ApparelArmorValues</patchName>
                <arguments>
                    <li>ParagonHelm</li>
                    <li>4.9</li>
                    <li>7</li>
                    <li>10</li>
                </arguments>
            </li>
			<li Class="PatchOperationReplace">
				<xpath>Defs/ThingDef[defName="ParagonHelm"]/apparel/bodyPartGroups</xpath>
				<value>
					<bodyPartGroups>
						<li>UpperHead</li>
						<li>Eyes</li>
						<li>Teeth</li>
					</bodyPartGroups>
				</value>
			</li>

            <!--TM_ArtifactBase-->
			<li Class="PatchOperationConditional">
				<xpath>Defs/ThingDef[@Name="TM_ArtifactBase"]/statBases</xpath>
				<nomatch Class="PatchOperationAdd">
					<xpath>Defs/ThingDef[@Name="TM_ArtifactBase"]</xpath>
					<value>
						<statBases/>
					</value>
				</nomatch>
				<match Class="PatchOperationAdd">
					<xpath>Defs/ThingDef[@Name="TM_ArtifactBase"]</xpath>
					<value>
					</value>
				</match>
			</li>
			<li Class="PatchOperationAdd">
				<xpath>Defs/ThingDef[@Name="TM_ArtifactBase"]/statBases</xpath>
				<value>
					<Bulk>0.35</Bulk>
					<WornBulk>0</WornBulk>
				</value>
			</li>
            
            
            <li Class="XmlExtensions.MergeDocument">
                <docName>ApparelDoc</docName>
            </li>
		</operations>
		</match>
	</Operation>
</Patch>